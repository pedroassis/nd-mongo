{
  "name": "js-annotation-reader",
  "version": "0.0.1",
  "description": "JS Annotation Reader",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/pedroassis/js-annotation-reader.git"
  },
  "author": {
    "name": "Pedro Assis",
    "email": "pedro@pedroassis.com.br",
    "url": "https://github.com/pedroassis"
  },
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/pedroassis/js-annotation-reader/issues"
  },
  "homepage": "https://github.com/pedroassis/js-annotation-reader",
  "dependencies": {
    "esprima": "^2.2.0"
  },
  "readme": "# js-annotation-reader\nAnnotation Reader for JS files\n\nThis module uses esprima to extract metadata off JS files, for now it only works on NodeJS.\n\nJavaScript does not have a implementation of Annotations.\nThen again, it didn't had classes and we used class-like functions to do the job.\n\n# Class-like function\n\n```js\n    function User(name){\n        this.name = name;\n    }\n```\n\nJavascript didn't had Threads, (We can agree it still don't) but we write async code, so screw threads.\n\nJavaScript does have a type of metadata, one that can change the behavior of your code.\nBut without this metadata your code would also run, a little different.\n\nI'm talking of course of 'use strict' literal expression.\n\nUse strict is not part of your code, although is it code, much like an Annotation mind you.  \n[Reference Link](http://stackoverflow.com/a/17560270/1727493)\n\n\n## Usage\n\n```js\n    // Only extracting metadata from the first function inside the file, we can change that later\n    var parse = require('js-annotation-reader').parseFirstFunction;\n    var path = require('path');\n    var fs = require('fs');\n    \n    var name = path.join(__dirname, 'Simple.js'); // Your file\n    var code = fs.readFileSync(name).toString(); // String pls\n    console.log(JSON.stringify(parse(code), null, 4));\n```\n\nThis is the Simple.js file:\n```js\n  '@AnotherAnnotationClass'\n  function Simple(){\n  \n      '@AnnotationField'\n      this.someMethod = function() {};\n  }\n```\n\nThis is going to print in your console the metadata extracted from that class.\n\n```js\n  {\n      \"name\": \"Simple\", // Class name\n      \"parameters\": [], // Constructor parameters,\n      \"imports\": [],    // All imports declarations\n      \"annotations\": [ // Class annotations\n          {\n              \"name\": \"AnotherAnnotationClass\", // Annotation name\n              \"targets\": \"Simple\" // Annotation target, just the name not the function\n          }\n      ],\n      \"methods\": [ //  Array of method's metadata\n          {\n              \"name\": \"someMethod\", // Method name\n              \"annotations\": [ // Method's Annotations\n                  {\n                      \"name\": \"AnnotationField\", // Annotation name\n                      \"targets\": \"someMethod\"\n                  }\n              ]\n          }\n      ]\n  }\n```\n\nThe fields imports and packaged are just declarations, as all the other informations, this does not creates any magic.\n\nThings can get fancy here, checkout our User.js file:\n\n```js\n  'package com.pedroassis.whatever' // package declaration, to avoid naming colisions of course\n  \n  'import com.pedroassis.asdfgbh'; // imports, also to avoid naming colisions of course\n  'import com.pedroassis.AnotherAnnotationClass';\n  'import com.pedroassis.AnotherAnnotationField';\n  \n  '@AnnotationMethod2put(\"\")' // Annotation with default value set to a empty string\n  '@AnnotationClass(s=234565432)' // Default value is a object {s:234565432}\n  '@AnotherAnnotationClass()' // No Default value\n  function User(asdcvb, asdfgbh){ // <-- This parameters names are going to be also extrated\n  \n      '@AnnotationMethod({s:234567})' // Default value is a object\n      '@AnotherAnnotationMethod(1,5,6)'; // Default value is a Array [1,5,6]\n      this.put = function put() {\n          function innerInner (argument) {\n          }\n      };\n  \n      function inner (argument) {\n      }\n  \n      '@AnnotationMethod';'@AnotherAnnotationMethodGet' // Same line to prove a point   \n      \n      '@Get(@Whatever([1]))' // huuuuuu, nested annotations like a charm\n      this.get = function() {\n  \n      };\n  }\n```\n\nThats a lot of metadata, checkout our UserMetadata.json to see the output, or just scroll as you will, nothing else to see.\n\n```js\n  {\n      \"annotations\": [\n          {\n              \"name\": \"AnnotationMethod2put\",\n              \"value\": \"\",\n              \"targets\": \"User\"\n          },\n          {\n              \"name\": \"AnnotationClass\",\n              \"s\": 234565432,\n              \"targets\": \"User\"\n          },\n          {\n              \"name\": \"AnotherAnnotationClass\",\n              \"packaged\": \"com.pedroassis.AnotherAnnotationClass\",\n              \"targets\": \"User\"\n          }\n      ],\n      \"imports\": [\n          \"com.pedroassis.asdfgbh\",\n          \"com.pedroassis.AnotherAnnotationClass\",\n          \"com.pedroassis.AnotherAnnotationField\"\n      ],\n      \"methods\": [\n          {\n              \"annotations\": [\n                  {\n                      \"name\": \"AnnotationMethod\",\n                      \"value\": {\n                          \"s\": 234567,\n                          \"packaged\": false\n                      },\n                      \"targets\": \"put\"\n                  },\n                  {\n                      \"name\": \"AnotherAnnotationMethod\",\n                      \"value\": [\n                          6,\n                          5,\n                          1\n                      ],\n                      \"targets\": \"put\"\n                  }\n              ],\n              \"name\": \"put\"\n          },\n          {\n              \"annotations\": [\n                  {\n                      \"name\": \"AnnotationMethod\",\n                      \"targets\": \"get\"\n                  },\n                  {\n                      \"name\": \"AnotherAnnotationMethodGet\",\n                      \"targets\": \"get\"\n                  },\n                  {\n                      \"name\": \"Get\",\n                      \"value\": {\n                          \"name\": \"Whatever\",\n                          \"value\": [\n                              1\n                          ]\n                      },\n                      \"targets\": \"get\"\n                  }\n              ],\n              \"name\": \"get\"\n          }\n      ],\n      \"packaged\": \"package com.pedroassis.whatever\",\n      \"parameters\": [\n          \"asdcvb\",\n          \"com.pedroassis.asdfgbh\" // <-- matched the import\n      ],\n      \"name\": \"User\"\n  }\n```\n",
  "readmeFilename": "README.md",
  "_id": "js-annotation-reader@0.0.1",
  "_shasum": "d1c67db1b74c01683b1dfd8e8208c65485c2e881",
  "_resolved": "git://github.com/pedroassis/js-annotation-reader#d34927ec30a92e3f9aa87fe6b4618bd2c219e9ac",
  "_from": "js-annotation-reader@git://github.com/pedroassis/js-annotation-reader"
}
